#include <bits/stdc++.h>
using namespace std;
typedef long long ll;

int main() {

	freopen("bcount.in", "r", stdin);
	freopen("bcount.out", "w", stdout);

	int n, q;
	cin >> n >> q;
	vector<int> holsteins(n + 1), guernseys(n + 1), jerseys(n + 1);

	for(int i = 0; i < n; i++) {

		int num;
		cin >> num;

		holsteins[i + 1] = holsteins[i];
		guernseys[i + 1] = guernseys[i];
		jerseys[i + 1] = jerseys[i];

		if(num == 1) {
			
			holsteins[i + 1]++;

		} else if(num == 2) {

			guernseys[i + 1]++;

		} else if(num == 3) {

			jerseys[i + 1]++;
		
		}

	}

	for(int i = 0; i < q; i++) {

		int l, r;
		cin >> l >> r;
		l--;

		cout << holsteins[r] - holsteins[l] << " " << guernseys[r] - guernseys[l] << " " << jerseys[r] - jerseys[l] << endl;

	}

}
