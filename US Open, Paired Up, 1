#include <bits/stdc++.h>
using namespace std;
typedef long long ll;

bool cmp(pair<int, int> a, pair<int, int> b) {

	return a.second < b.second;

}

int main() {

	freopen("pairup.in", "r", stdin);
	freopen("pairup.out", "w", stdout);

	int n;
	cin >> n;

	vector<pair<int, int>> cows(n);
	for(int i = 0; i < n; i++) {

		cin >> cows[i].first >> cows[i].second;

	}

	sort(cows.begin(), cows.end(), cmp);
	
	int l = 0, curL = 0, r = n - 1, curR = 0;
	int ans = 0;
	while(l <= r) {

		ans = max(ans, cows[l].second + cows[r].second);
		curL++;
		curR++;
		if(curL >= cows[l].first) {

			l++;
			curL = 0;

		}
		if(curR >= cows[r].first) {

			r--;
			curR = 0;

		}

	}

	cout << ans;

}
